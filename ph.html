<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Philippine Map</title>
  </head>
  <script src="https://d3js.org/d3.v4.js"></script>
  <script src="https://d3js.org/topojson.v2.min.js"></script>
  <style>
    body {
      margin: 0;
      position: fixed;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
    }
    svg {
      width: 100%;
      height: 100%;
    }
    .island:hover {
      fill: red;
    }
  </style>
  <body>
    <h1>Philippines</h1>
    <script>
      var w = 900,
        h = 500;
      var zoom = d3
        .zoom()
        .scaleExtent([1, 40])
        .translateExtent([[0, 0], [w, h]])
        .extent([[0, 0], [w, h]])
        .on("zoom", zoomed);

      var svg = d3
        .select("body")
        .append("svg")
        .call(zoom);
      var projection = d3
        .geoMercator()
        .center([117, 12])
        .translate([w / 2, h / 2])
        .scale(1500);

      var path = d3.geoPath().projection(projection);
      var url =
        "https://raw.githubusercontent.com/deldersveld/topojson/master/countries/philippines/philippines-provinces.json";
      const g = svg.append("g");
      d3.json(url, function(err, data) {
        if (err) return console.log(err);
        g.selectAll("path")
          .data(topojson.feature(data, data.objects.PHL_adm1).features)
          .enter()
          .append("path")
          .attr("d", path)
          .attr("class", "island")
          .attr("cursor", "pointer")
          .on("mouseover", function(d) {
            d3.select("h1").text(d.properties.NAME_1);
          })
          .on("mouseout", function(d) {
            d3.select("h1").text("Philippines");
          });
      });

      function zoomed() {
        g.attr("transform", d3.event.transform);
      }
    </script>
  </body>
</html>
